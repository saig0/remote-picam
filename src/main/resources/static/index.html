<!DOCTYPE html> 
<html> 
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
</head>
<body> 

<video id="vid" width="400" controls>
 <source src="/live/stream" type="video/mp4">
  Your browser does not support HTML5 video.
</video>

<br/>
<button onclick="startRecord()">start live stream</button>
<button onclick="stopRecord()">stop video</button> 
<button id="loadVideoButton" onclick="loadVideo()">reload live stream</button> 

<script type="text/javascript"> 
        var vid = document.getElementById("vid");
        vid.autoplay = false;
        
        vid.onended = function() {
            loadVideo();
        };
        
        function loadVideo() { 
            vid.load();
            vid.play();            
        }
        
        function startRecord() {
            $.post("/live/start", function() {
                    loadVideo();                  
            });
        }
        
        function stopRecord() {
            $.post("/stop");
        }
    </script>

</body> 
</html>
